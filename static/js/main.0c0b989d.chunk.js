(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t){},235:function(e,t,n){},237:function(e,t,n){},265:function(e,t){},267:function(e,t){},277:function(e,t){},279:function(e,t){},306:function(e,t){},308:function(e,t){},309:function(e,t){},315:function(e,t){},317:function(e,t){},335:function(e,t){},337:function(e,t){},349:function(e,t){},352:function(e,t){},384:function(e,t,n){"use strict";n.r(t);var s=n(9),r=(n(235),n(60)),c=n(14),i=n(0),a=n.n(i),o=n(39),l=n(20),u=(n(237),n(1)),d=n.n(u),j=n(430),f=n(426),b=n(427),p=n(220),m=n.n(p),h=n(29),x=n(429),O=d.a.createContext({getProfileFB:function(){return Promise.resolve({isSuccessful:!1})},setProfileFB:function(){return Promise.resolve({isSuccessful:!1})},getAllProfilesFB:function(){return Promise.resolve({isSuccessful:!1})}}),v="https://network2-backend.herokuapp.com",k=function(e){var t=e.children,n=Object(u.useCallback)(function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+"/users/profile/".concat(t),{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),r=Object(u.useCallback)(function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+"/users/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:t})});case 2:if(!(n=e.sent).ok){e.next=5;break}return e.abrupt("return",{isSuccessful:!0});case 5:return e.abrupt("return",{isSuccessful:!1,message:n.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),c=Object(u.useCallback)(Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+"/users/allProfiles",{method:"GET"});case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(s.jsx)(O.Provider,{value:{getProfileFB:n,setProfileFB:r,getAllProfilesFB:c},children:t})},y=n(110),g=(n(382),n(223)),w="localhost"===window.location.hostname?"ws://localhost:8000":"wss://network2-backend.herokuapp.com",S=m()(w,{transports:["websocket"]}),A=new h.i({name:"Beacon Docs"}),C=Object(x.a)();var P=function(){var e=Object(u.useRef)(),t=Object(u.useRef)(),n=Object(u.useState)(),i=Object(l.a)(n,2),p=i[0],m=i[1],h=Object(u.useState)("sync"),x=Object(l.a)(h,2),v=x[0],k=x[1],w=Object(u.useState)(!1),P=Object(l.a)(w,2),z=P[0],F=P[1],I=Object(u.useState)(),T=Object(l.a)(I,2),B=T[0],L=T[1],R=Object(u.useContext)(O),E=R.getProfileFB,N=R.setProfileFB,D=R.getAllProfilesFB,G=Object(u.useState)({emoji:B,timestamp:Date.now(),key:C,username:""}),q=Object(l.a)(G,2),J=q[0],X=q[1],H=Object(u.useState)([{emoji:"blue",timestamp:Date.now(),key:C,username:"user x"}]),V=Object(l.a)(H,2),K=V[0],U=V[1],_=d.a.useState("Anon"),M=Object(l.a)(_,2),Q=M[0],W=M[1],Y=Object(y.b)().enqueueSnackbar,Z=Object(u.useState)([]),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ne=Object(u.useState)(!1),se=Object(l.a)(ne,2),re=se[0],ce=se[1],ie=function(){setTimeout(Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.current.scrollIntoView({behavior:"smooth",block:"end",inline:"end"});case 1:case"end":return t.stop()}}),t)}))),500),setTimeout(Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.current&&t.current.scrollIntoView({behavior:"smooth",block:"end",inline:"end"});case 1:case"end":return e.stop()}}),e)}))),1200)};function ae(){return(ae=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,A.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),p&&A.clearActiveAccount().then(Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,A.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),k("sync"),F(!1);case 7:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return le.apply(this,arguments)}function le(){return(le=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,A.getActiveAccount();case 3:if(e.t1=e.sent,(0,e.t0)(e.t1),!p){e.next=12;break}return k(p.address),F(!0),S.emit("join",p.address),e.abrupt("return",p);case 12:return e.prev=12,console.log("Requesting permissions..."),e.next=16,A.requestPermissions();case 16:return t=e.sent,e.t2=m,e.next=20,A.getActiveAccount();case 20:e.t3=e.sent,(0,e.t2)(e.t3),console.log("Got permissions:",t.address),k(t.address),F(!0),e.next=30;break;case 27:e.prev=27,e.t4=e.catch(12),console.log("Got error:",e.t4);case 30:case"end":return e.stop()}}),e,null,[[12,27]])})))).apply(this,arguments)}function ue(){if(p){var e=Date.now();X(Object(r.a)(Object(r.a)({},J),{},{emoji:B,key:p.address,username:Q,timestamp:e})),S.emit("profile",Object(r.a)(Object(r.a)({},J),{},{emoji:B,key:p.address,username:Q,timestamp:e})),N(Object(r.a)(Object(r.a)({},J),{},{emoji:B,key:p.address,username:Q,timestamp:e})),te(ee.concat([Object(r.a)(Object(r.a)({},J),{},{emoji:B,key:p.address,username:Q,timestamp:e})]).sort((function(e,t){return parseFloat(e.timestamp)-parseFloat(t.timestamp)}))),Y("Status Updated ! ",{variant:"success"}),W(""),ie()}else oe()}return Object(u.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,U(t.recentStatus),te(t.history);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),ie()}),[D]),Object(u.useEffect)((function(){var e=function(e){te(ee.concat(e).sort((function(e,t){return parseFloat(e.timestamp)-parseFloat(t.timestamp)}))),ie(),K.find((function(t,n){return t.key===e.key&&(U([].concat(Object(c.a)(K.slice(0,n)),[e],Object(c.a)(K.slice(n+1)))),!0)}))};return S.on("profile",e),function(){S.off("profile",e)}}),[K,U,ee]),Object(u.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,A.getActiveAccount();case 3:if(e.t1=e.sent,(0,e.t0)(e.t1),!p){e.next=16;break}return k(p.address.slice(0,6)+"..."+p.address.slice(32,36)),F(!0),e.next=10,E(p.address);case 10:t=e.sent,X(t),W(t.username),S.emit("join",p.address),e.next=18;break;case 16:k("sync"),F(!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p,E]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"top-left",style:{fontSize:"1em",display:"flex",alignItems:"center",marginLeft:2},children:[Object(s.jsx)("b",{children:"Network 2 \ud83d\udce0"}),"\xa0",Object(s.jsx)(j.a,{checked:!0,onChange:function(){return window.location.href="https://network1.cc/",null}})]}),Object(s.jsx)("div",{style:{fontSize:"0.9em",marginTop:3,marginLeft:13},children:Object(s.jsx)("b",{children:"History"})}),Object(s.jsxs)("div",{style:{display:"flex",width:"90%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[ee&&ee.map((function(e){return Object(s.jsxs)("div",{style:{textAlign:"center",marginInline:6},children:[Object(s.jsx)("div",{style:{width:100,height:30,border:"solid 4px ",marginInline:4},children:Object(s.jsx)("div",{style:{textAlign:"center",fontSize:"1.4em"},children:e.emoji})}),Object(s.jsxs)(f.a,{title:e.key,size:"small",onClick:Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:navigator.clipboard.writeText(e.key),Y("Address copied ! "+e.key,{variant:"success"});case 2:case"end":return t.stop()}}),t)}))),children:[e.username," "]})]},e.timestamp)})),Object(s.jsx)("div",{ref:e})]}),Object(s.jsx)("div",{style:{fontSize:"0.9em",marginTop:3,marginLeft:13},children:Object(s.jsxs)(f.a,{size:"small",onClick:function(){ce(!re),ie()},children:["Personal History ",re?" \ud83d\udd3c":" \ud83d\udd3d"," "]})}),re&&Object(s.jsxs)("div",{style:{display:"flex",width:"90%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[ee&&ee.map((function(e){return p&&e.key===p.address&&Object(s.jsxs)("div",{style:{textAlign:"center",marginInline:6},children:[Object(s.jsx)("div",{style:{width:100,height:30,border:"solid 4px ",marginInline:4},children:Object(s.jsx)("div",{style:{textAlign:"center",fontSize:"1.4em"},children:e.emoji})}),Object(s.jsxs)(f.a,{title:e.key,size:"small",onClick:Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:navigator.clipboard.writeText(e.key),Y("Address copied ! "+e.key,{variant:"success"});case 2:case"end":return t.stop()}}),t)}))),children:[e.username," "]})]},e.timestamp)})),Object(s.jsx)("div",{ref:t})]}),Object(s.jsx)("div",{style:{fontSize:"0.9em",marginTop:3,marginLeft:13},children:Object(s.jsxs)(f.a,{size:"small",onClick:function(){ce(!re),ie()},children:["Recent Status ",re?" \ud83d\udd3d":" \ud83d\udd3c"," "]})}),!re&&Object(s.jsxs)("div",{style:{display:"flex",width:"90%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[Object(s.jsxs)("div",{style:{textAlign:"center",marginInline:6},children:[Object(s.jsx)("div",{style:{width:100,height:30,border:"solid 4px ",marginInline:4},children:Object(s.jsx)("div",{style:{textAlign:"center",fontSize:"1.4em"},children:J.emoji})}),Object(s.jsxs)(f.a,{title:J.key,size:"small",onClick:Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.clipboard.writeText(J.key),Y("Address copied ! "+J.key,{variant:"success"});case 2:case"end":return e.stop()}}),e)}))),children:[J.username," "]})]}),K&&K.map((function(e){return(!p||e.key!==p.address)&&Object(s.jsxs)("div",{style:{textAlign:"center",marginInline:6},children:[Object(s.jsx)("div",{style:{width:100,height:30,border:"solid 4px ",marginInline:4},children:Object(s.jsx)("div",{style:{textAlign:"center",fontSize:"1.4em"},children:e.emoji})}),Object(s.jsxs)(f.a,{title:e.key,size:"small",onClick:Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:navigator.clipboard.writeText(e.key),Y("Address copied ! "+e.key,{variant:"success"});case 2:case"end":return t.stop()}}),t)}))),children:[e.username," "]})]},e.key)}))]}),Object(s.jsxs)("div",{style:{width:"90%",marginLeft:"auto",marginRight:"auto"},children:[Object(s.jsx)(g.a,{title:"Pick your emoji",emoji:"point_up",onSelect:function(e){console.log(e),L(e.native)}}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(s.jsx)(b.a,{id:"outlined-basic",size:"small",label:"info",variant:"outlined",placeholder:"Status",onChange:function(e){e.target.value.length<25?W(e.target.value):W(e.target.value.slice(0,25))},value:Q,onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(s.jsx)("div",{style:{width:50,height:30,border:"solid 4px ",marginInline:4},children:Object(s.jsx)("div",{style:{textAlign:"center",fontSize:"1.4em"},children:B})}),Object(s.jsxs)(f.a,{size:"small",title:"update status",onClick:function(){ue()},children:["  ",p?Object(s.jsx)("u",{children:"update status"}):Object(s.jsx)("u",{children:"sync to join network1"})," "]})]})]}),Object(s.jsx)("div",{className:"bottom-left",style:{position:"absolute"},children:Object(s.jsxs)(f.a,{title:"Adventure Networks",size:"small",onClick:function(){},children:["  ",Object(s.jsxs)("div",{style:{textAlign:"left"},children:[" Adventure ",Object(s.jsx)("br",{}),"Networks "]})," "]})}),Object(s.jsxs)("div",{className:"bottom-right",style:{position:"absolute",display:"flex",alignItems:"center"},children:[z&&Object(s.jsxs)(f.a,{size:"small",title:"unsync",onClick:function(){!function(){ae.apply(this,arguments)}()},children:[Object(s.jsx)("u",{children:"unsync"})," "]}),z&&Object(s.jsx)("div",{children:" | "}),Object(s.jsxs)(f.a,{title:"sync",size:"small",onClick:Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:case"end":return e.stop()}}),e)}))),children:[Object(s.jsx)("u",{children:v})," "]})]})]})},z=n(27),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,431)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),c(e),i(e)}))};n.n(z).a.render(Object(s.jsx)(k,{children:Object(s.jsx)(y.a,{maxSnack:3,children:Object(s.jsx)(P,{})})}),document.getElementById("root")),F()}},[[384,1,2]]]);
//# sourceMappingURL=main.0c0b989d.chunk.js.map